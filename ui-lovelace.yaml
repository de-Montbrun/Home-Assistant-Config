# vim: set expandtab tabstop=2 shiftwidth=2 softtabstop=2:
# Home Assistant Dashboard - A Symphony of Elegance and Wonder
# This dashboard is designed to inspire awe and demonstrate the beauty of smart home automation

title: "‚ú® Smart Home Sanctuary ‚ú®"
theme: Purple Haze

views:
  - title: "üè† Home Overview"
    path: home
    icon: mdi:home-variant
    cards:
      # Hero Section - Weather & Time
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: "Smart Home Sanctuary"
            styles:
              card:
                - background: "linear-gradient(135deg, rgba(156, 39, 176, 0.3) 0%, rgba(225, 190, 231, 0.1) 100%)"
                - border-radius: "20px"
                - padding: "20px"
                - box-shadow: "0 8px 32px rgba(156, 39, 176, 0.3)"
                - backdrop-filter: "blur(10px)"
                - border: "1px solid rgba(225, 190, 231, 0.2)"
              name:
                - font-size: "28px"
                - font-weight: "300"
                - color: "#F3E5F5"
                - text-shadow: "0 2px 4px rgba(0,0,0,0.5)"
                - letter-spacing: "2px"
                - white-space: "nowrap"
                - overflow: "visible"
                - text-overflow: "unset"
            tap_action:
              action: none
          
          # Weather for Closest City
          - type: conditional
            conditions:
              - entity: sensor.closest_city
                state: Charlottetown
            card:
              type: weather-forecast
              entity: weather.charlottetown_forecast
              show_forecast: false
              card_mod:
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(66, 165, 245, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                    min-width: 300px;
                  }
                  .name {
                    white-space: nowrap !important;
                    overflow: visible !important;
                    text-overflow: unset !important;
                  }
          
          - type: conditional
            conditions:
              - entity: sensor.closest_city
                state: Fredericton
            card:
              type: weather-forecast
              entity: weather.fredericton
              show_forecast: false
              card_mod:
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(102, 187, 106, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                    min-width: 300px;
                  }
                  .name {
                    white-space: nowrap !important;
                    overflow: visible !important;
                    text-overflow: unset !important;
                  }
          
          - type: conditional
            conditions:
              - entity: sensor.closest_city
                state: Saint John
            card:
              type: weather-forecast
              entity: weather.saint_john_forecast
              show_forecast: false
              card_mod:
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(239, 83, 80, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                    min-width: 300px;
                  }
                  .name {
                    white-space: nowrap !important;
                    overflow: visible !important;
                    text-overflow: unset !important;
                  }
          
          - type: conditional
            conditions:
              - entity: sensor.closest_city
                state: Montreal
            card:
              type: weather-forecast
              entity: weather.montreal_forecast
              show_forecast: false
              card_mod:
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(255, 193, 7, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                    min-width: 300px;
                  }
                  .name {
                    white-space: nowrap !important;
                    overflow: visible !important;
                    text-overflow: unset !important;
                  }

      # Lighting Control Center
      - type: custom:stack-in-card
        title: "‚ú® Illumination Command Center"
        cards:
          - type: custom:button-card
            name: "Master Lighting Control"
            styles:
              card:
                - background: "linear-gradient(45deg, rgba(225, 190, 231, 0.1) 0%, rgba(206, 147, 216, 0.2) 100%)"
                - border-radius: "16px"
                - padding: "15px"
                - border: "1px solid rgba(225, 190, 231, 0.3)"
              name:
                - font-size: "20px"
                - color: "#E1BEE7"
                - font-weight: "500"
            tap_action:
              action: none
          
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.indoor_lights
                name: "Indoor Lights"
                icon: mdi:lightbulb-group
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(255, 193, 7, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - backdrop-filter: "blur(10px)"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#FDD835';
                          return '#9E9E9E';
                        ]]]
                    - animation: |
                        [[[
                          if (entity.state === 'on') return 'pulse 2s ease-in-out infinite alternate';
                          return 'none';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "12px"
                tap_action:
                  action: toggle
              
              - type: custom:button-card
                entity: light.main_floor_lights
                name: "Main Floor"
                icon: mdi:home-floor-1
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(102, 187, 106, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#66BB6A';
                          return '#9E9E9E';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "12px"
                tap_action:
                  action: toggle
              
              - type: custom:button-card
                entity: light.second_floor_lights
                name: "Second Floor"
                icon: mdi:home-floor-2
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(66, 165, 245, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#42A5F5';
                          return '#9E9E9E';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "12px"
                tap_action:
                  action: toggle
              
              - type: custom:button-card
                entity: light.outdoor_lights
                name: "Outdoor"
                icon: mdi:outdoor-lamp
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(255, 152, 0, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#FF9800';
                          return '#9E9E9E';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "12px"
                tap_action:
                  action: toggle

      # Room-by-Room Lighting
      - type: custom:stack-in-card
        title: "üè° Room Ambiance Control"
        cards:
          - type: grid
            columns: 3
            square: false
            cards:
              - type: custom:button-card
                entity: light.kitchen_lights
                name: "Kitchen"
                icon: mdi:chef-hat
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(255, 193, 7, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - height: "80px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#FDD835';
                          return '#9E9E9E';
                        ]]]
                    - size: "24px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "12px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "10px"
                tap_action:
                  action: toggle
              
              - type: custom:button-card
                entity: light.bedroom_lights
                name: "Bedroom"
                icon: mdi:bed
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(156, 39, 176, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - height: "80px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#E1BEE7';
                          return '#9E9E9E';
                        ]]]
                    - size: "24px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "12px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "10px"
                tap_action:
                  action: toggle
              
              - type: custom:button-card
                entity: light.tv_room_lights
                name: "TV Room"
                icon: mdi:television
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(66, 165, 245, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - height: "80px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#42A5F5';
                          return '#9E9E9E';
                        ]]]
                    - size: "24px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "12px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "10px"
                tap_action:
                  action: toggle
              
              - type: custom:button-card
                entity: light.livingroom_lights
                name: "Living Room"
                icon: mdi:sofa
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(102, 187, 106, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - height: "80px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#66BB6A';
                          return '#9E9E9E';
                        ]]]
                    - size: "24px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "12px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "10px"
                tap_action:
                  action: toggle
              
              - type: custom:button-card
                entity: light.dining_room_lights
                name: "Dining Room"
                icon: mdi:silverware-fork-knife
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(255, 152, 0, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - height: "80px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#FF9800';
                          return '#9E9E9E';
                        ]]]
                    - size: "24px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "12px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "10px"
                tap_action:
                  action: toggle
              
              - type: custom:button-card
                entity: light.office_lights
                name: "Office"
                icon: mdi:desk
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(121, 85, 72, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - height: "80px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#8D6E63';
                          return '#9E9E9E';
                        ]]]
                    - size: "24px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "12px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "10px"
                tap_action:
                  action: toggle

      # Environmental Monitoring
      - type: custom:stack-in-card
        title: "üå°Ô∏è Environmental Harmony"
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                name: "Spare Room"
                icon: mdi:thermometer
                custom_fields:
                  temp: "[[[ return states['sensor.atc_310b_temperature'].state + '¬∞C' ]]]"
                  humidity: "[[[ return states['sensor.atc_310b_humidity'].state + '%' ]]]"
                styles:
                  card:
                    - background: "linear-gradient(135deg, rgba(66, 165, 245, 0.2) 0%, rgba(225, 190, 231, 0.1) 100%)"
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                    - font-weight: "500"
                  icon:
                    - color: "#42A5F5"
                    - size: "24px"
                  custom_fields:
                    temp:
                      - position: "absolute"
                      - right: "15px"
                      - top: "15px"
                      - color: "#E1BEE7"
                      - font-size: "16px"
                      - font-weight: "bold"
                    humidity:
                      - position: "absolute"
                      - right: "15px"
                      - bottom: "15px"
                      - color: "#CE93D8"
                      - font-size: "14px"
                tap_action:
                  action: none
              
              - type: custom:button-card
                name: "Office"
                icon: mdi:thermometer
                custom_fields:
                  temp: "[[[ return states['sensor.temperature_humidity_sensor_dca4'].state + '¬∞C' ]]]"
                  humidity: "[[[ return states['sensor.temperature_humidity_sensor_dca4'].state + '%' ]]]"
                styles:
                  card:
                    - background: "linear-gradient(135deg, rgba(102, 187, 106, 0.2) 0%, rgba(225, 190, 231, 0.1) 100%)"
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                    - font-weight: "500"
                  icon:
                    - color: "#66BB6A"
                    - size: "24px"
                  custom_fields:
                    temp:
                      - position: "absolute"
                      - right: "15px"
                      - top: "15px"
                      - color: "#E1BEE7"
                      - font-size: "16px"
                      - font-weight: "bold"
                    humidity:
                      - position: "absolute"
                      - right: "15px"
                      - bottom: "15px"
                      - color: "#CE93D8"
                      - font-size: "14px"
                tap_action:
                  action: none
              
              - type: custom:button-card
                name: "Garage"
                icon: mdi:thermometer
                custom_fields:
                  temp: "[[[ return states['sensor.temperature_humidity_sensor_2120'].state + '¬∞C' ]]]"
                  humidity: "[[[ return states['sensor.temperature_humidity_sensor_2120_2'].state + '%' ]]]"
                styles:
                  card:
                    - background: "linear-gradient(135deg, rgba(255, 152, 0, 0.2) 0%, rgba(225, 190, 231, 0.1) 100%)"
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                    - font-weight: "500"
                  icon:
                    - color: "#FF9800"
                    - size: "24px"
                  custom_fields:
                    temp:
                      - position: "absolute"
                      - right: "15px"
                      - top: "15px"
                      - color: "#E1BEE7"
                      - font-size: "16px"
                      - font-weight: "bold"
                    humidity:
                      - position: "absolute"
                      - right: "15px"
                      - bottom: "15px"
                      - color: "#CE93D8"
                      - font-size: "14px"
                tap_action:
                  action: none

  - title: "üéµ Media Center"
    path: media
    icon: mdi:music-note
    cards:
      # Media Control Center
      - type: custom:stack-in-card
        title: "üé≠ Entertainment Command Center"
        cards:
          - type: custom:button-card
            name: "Multi-Room Audio Paradise"
            styles:
              card:
                - background: "linear-gradient(135deg, rgba(156, 39, 176, 0.3) 0%, rgba(225, 190, 231, 0.1) 100%)"
                - border-radius: "20px"
                - padding: "20px"
                - box-shadow: "0 8px 32px rgba(156, 39, 176, 0.3)"
                - backdrop-filter: "blur(10px)"
                - border: "1px solid rgba(225, 190, 231, 0.2)"
              name:
                - font-size: "24px"
                - font-weight: "300"
                - color: "#F3E5F5"
                - text-shadow: "0 2px 4px rgba(0,0,0,0.5)"
                - letter-spacing: "1px"
            tap_action:
              action: none
          
          # HomePod Controls
          - type: horizontal-stack
            cards:
              - type: media-control
                entity: media_player.kitchen
                name: "üç≥ Kitchen HomePod"
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(255, 193, 7, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                  }
              
              - type: media-control
                entity: media_player.dining_room
                name: "üçΩÔ∏è Dining Room"
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(255, 152, 0, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                  }
              
              - type: media-control
                entity: media_player.gervais_s_homepod
                name: "üíº Gervais' Office"
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(121, 85, 72, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                  }
          
          # TV Controls
          - type: horizontal-stack
            cards:
              - type: media-control
                entity: media_player.tv_roomtv
                name: "üì∫ TV Room"
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(66, 165, 245, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                  }
              
              - type: media-control
                entity: media_player.bedroomtv
                name: "üõèÔ∏è Bedroom TV"
                style: |
                  ha-card {
                    background: linear-gradient(135deg, rgba(156, 39, 176, 0.2) 0%, rgba(225, 190, 231, 0.1) 100%);
                    border-radius: 16px;
                    border: 1px solid rgba(225, 190, 231, 0.3);
                    backdrop-filter: blur(10px);
                  }
          
          # Currently Playing
          - type: custom:button-card
            name: "üé¨ Now Playing"
            entity: media_player.plex_plex_for_roku_tv_roomtv
            show_state: true
            show_last_changed: true
            custom_fields:
              media_title: "[[[ return entity.attributes.media_title || 'No media playing' ]]]"
            styles:
              card:
                - background: "linear-gradient(135deg, rgba(233, 30, 99, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)"
                - border-radius: "16px"
                - border: "1px solid rgba(225, 190, 231, 0.3)"
                - padding: "20px"
              name:
                - color: "#F3E5F5"
                - font-size: "18px"
                - font-weight: "500"
              state:
                - color: "#E1BEE7"
                - font-size: "14px"
              custom_fields:
                media_title:
                  - position: "absolute"
                  - bottom: "10px"
                  - left: "20px"
                  - color: "#CE93D8"
                  - font-size: "16px"
                  - font-weight: "bold"
            tap_action:
              action: more-info

  - title: "ü§ñ Automation"
    path: automation
    icon: mdi:robot-vacuum
    cards:
      # Vacuum Control Center
      - type: custom:stack-in-card
        title: "üßπ Cleaning Crew Command Center"
        cards:
          - type: custom:button-card
            name: "Autonomous Cleaning Fleet"
            styles:
              card:
                - background: "linear-gradient(135deg, rgba(76, 175, 80, 0.3) 0%, rgba(225, 190, 231, 0.1) 100%)"
                - border-radius: "20px"
                - padding: "20px"
                - box-shadow: "0 8px 32px rgba(76, 175, 80, 0.3)"
                - backdrop-filter: "blur(10px)"
                - border: "1px solid rgba(225, 190, 231, 0.2)"
              name:
                - font-size: "24px"
                - font-weight: "300"
                - color: "#F3E5F5"
                - text-shadow: "0 2px 4px rgba(0,0,0,0.5)"
                - letter-spacing: "1px"
            tap_action:
              action: none
          
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: vacuum.alice
                name: "ü§ñ Alice"
                icon: mdi:robot-vacuum
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'cleaning') 
                            return 'linear-gradient(135deg, rgba(76, 175, 80, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "16px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'cleaning') return '#4CAF50';
                          if (entity.state === 'docked') return '#2196F3';
                          return '#9E9E9E';
                        ]]]
                    - animation: |
                        [[[
                          if (entity.state === 'cleaning') return 'spin 2s linear infinite';
                          return 'none';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "16px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "14px"
                tap_action:
                  action: more-info
              
              - type: custom:button-card
                entity: vacuum.consuela
                name: "üè† Consuela"
                icon: mdi:robot-vacuum
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'cleaning') 
                            return 'linear-gradient(135deg, rgba(255, 193, 7, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "16px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'cleaning') return '#FDD835';
                          if (entity.state === 'docked') return '#2196F3';
                          return '#9E9E9E';
                        ]]]
                    - animation: |
                        [[[
                          if (entity.state === 'cleaning') return 'spin 2s linear infinite';
                          return 'none';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "16px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "14px"
                tap_action:
                  action: more-info
              
              - type: custom:button-card
                entity: vacuum.robot
                name: "üö™ Robot"
                icon: mdi:robot-vacuum
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'cleaning') 
                            return 'linear-gradient(135deg, rgba(233, 30, 99, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "16px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'cleaning') return '#E91E63';
                          if (entity.state === 'docked') return '#2196F3';
                          return '#9E9E9E';
                        ]]]
                    - animation: |
                        [[[
                          if (entity.state === 'cleaning') return 'spin 2s linear infinite';
                          return 'none';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "16px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "14px"
                tap_action:
                  action: more-info
          
          # Smart Appliances
          - type: custom:button-card
            name: "üè† Smart Appliance Status"
            styles:
              card:
                - background: "linear-gradient(135deg, rgba(63, 81, 181, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)"
                - border-radius: "16px"
                - border: "1px solid rgba(225, 190, 231, 0.3)"
                - padding: "15px"
              name:
                - color: "#F3E5F5"
                - font-size: "18px"
                - font-weight: "500"
            tap_action:
              action: none
          
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                name: "‚ùÑÔ∏è Refrigerator"
                icon: mdi:fridge
                custom_fields:
                  fridge_temp: "[[[ return Math.round(states['sensor.refrigerator_fridge_temperature'].state) + '¬∞C' ]]]"
                  freezer_temp: "[[[ return Math.round(states['sensor.refrigerator_freezer_temperature'].state) + '¬∞C' ]]]"
                styles:
                  card:
                    - background: "linear-gradient(135deg, rgba(66, 165, 245, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)"
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                  icon:
                    - color: "#42A5F5"
                    - size: "24px"
                  custom_fields:
                    fridge_temp:
                      - position: "absolute"
                      - right: "15px"
                      - top: "15px"
                      - color: "#E1BEE7"
                      - font-size: "12px"
                    freezer_temp:
                      - position: "absolute"
                      - right: "15px"
                      - bottom: "15px"
                      - color: "#CE93D8"
                      - font-size: "12px"
                tap_action:
                  action: none
              
              - type: custom:button-card
                entity: binary_sensor.dishwasher_door
                name: "üçΩÔ∏è Dishwasher"
                icon: mdi:dishwasher
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(255, 152, 0, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(76, 175, 80, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#FF9800';
                          return '#4CAF50';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "12px"
                tap_action:
                  action: more-info
              
              - type: custom:button-card
                entity: fan.delicious
                name: "üí® Delicious Fan"
                icon: mdi:fan
                show_state: true
                styles:
                  card:
                    - background: |
                        [[[
                          if (entity.state === 'on') 
                            return 'linear-gradient(135deg, rgba(76, 175, 80, 0.3) 0%, rgba(225, 190, 231, 0.2) 100%)';
                          return 'linear-gradient(135deg, rgba(96, 125, 139, 0.2) 0%, rgba(156, 39, 176, 0.1) 100%)';
                        ]]]
                    - border-radius: "12px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "15px"
                  icon:
                    - color: |
                        [[[
                          if (entity.state === 'on') return '#4CAF50';
                          return '#9E9E9E';
                        ]]]
                    - animation: |
                        [[[
                          if (entity.state === 'on') return 'spin 1s linear infinite';
                          return 'none';
                        ]]]
                  name:
                    - color: "#F3E5F5"
                    - font-size: "14px"
                  state:
                    - color: "#E1BEE7"
                    - font-size: "12px"
                tap_action:
                  action: toggle

      # Scene Controls
      - type: custom:stack-in-card
        title: "üé≠ Scene Orchestration"
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: scene.goodnight
                name: "üåô Goodnight"
                icon: mdi:weather-night
                show_last_changed: true
                styles:
                  card:
                    - background: "linear-gradient(135deg, rgba(63, 81, 181, 0.3) 0%, rgba(156, 39, 176, 0.2) 100%)"
                    - border-radius: "16px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "20px"
                    - box-shadow: "0 4px 16px rgba(63, 81, 181, 0.3)"
                  icon:
                    - color: "#3F51B5"
                    - size: "32px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "16px"
                    - font-weight: "500"
                  last_changed:
                    - color: "#CE93D8"
                    - font-size: "12px"
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.goodnight
              
              - type: custom:button-card
                entity: scene.sunset
                name: "üåÖ Sunset"
                icon: mdi:weather-sunset
                show_last_changed: true
                styles:
                  card:
                    - background: "linear-gradient(135deg, rgba(255, 152, 0, 0.3) 0%, rgba(156, 39, 176, 0.2) 100%)"
                    - border-radius: "16px"
                    - border: "1px solid rgba(225, 190, 231, 0.3)"
                    - padding: "20px"
                    - box-shadow: "0 4px 16px rgba(255, 152, 0, 0.3)"
                  icon:
                    - color: "#FF9800"
                    - size: "32px"
                  name:
                    - color: "#F3E5F5"
                    - font-size: "16px"
                    - font-weight: "500"
                  last_changed:
                    - color: "#CE93D8"
                    - font-size: "12px"
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  service_data:
                    entity_id: scene.sunset

# Custom CSS for animations
card_mod:
  style: |
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.7; }
      100% { opacity: 1; }
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    ha-card {
      transition: all 0.3s ease-in-out;
    }
    ha-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(156, 39, 176, 0.3);
    }