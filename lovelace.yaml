title: Home
views:
  - title: Dashboard
    path: dashboard
    icon: mdi:view-dashboard
    type: masonry
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: entities
            title: Who's Home
            entities:
              - entity: person.gail
                secondary_info: last-changed
              - entity: person.gervais
                secondary_info: last-changed
              - entity: person.jennifer
                secondary_info: last-changed
            state_color: true
          - type: horizontal-stack
            cards:
              - type: conditional
                conditions:
                  - condition: numeric_state
                    entity: sensor.distance_apart
                    above: 0
                  - condition: state
                    entity: sensor.distance_apart
                    state_not: unknown
                  - condition: state
                    entity: sensor.distance_apart
                    state_not: unavailable
                card:
                  type: custom:mini-graph-card
                  entities:
                    - entity: sensor.distance_apart
                      name: Distance Apart
                  hours_to_show: 24
                  points_per_hour: 4
                  line_color: var(--primary-color)
                  line_width: 2
                  font_size: 75
              - type: custom:button-card
                name: Location Map
                icon: mdi:map
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/map
                styles:
                  card:
                    - height: 120px
                  icon:
                    - width: 40px
                    - height: 40px
                  name:
                    - font-size: 14px
      - type: vertical-stack
        cards:
          - type: markdown
            content: '## Quick Actions'
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: light.indoor_lights
                icon: mdi:lightbulb-group
                name: Indoor Lights
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                template: light_button
              - type: custom:button-card
                entity: light.outdoor_lights
                icon: mdi:outdoor-lamp
                name: Outdoor
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                template: light_button
              - type: custom:button-card
                entity: lock.front_door_lock_lock_mechanism
                icon: mdi:door-closed-lock
                name: Front
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                template: lock_button
              - type: custom:button-card
                entity: lock.garage_door_lock_lock_mechanism
                icon: mdi:door-closed-lock
                name: Garage
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                template: lock_button
              - type: custom:button-card
                entity: alarm_control_panel.alarmo
                name: Security
                tap_action:
                  action: navigate
                  navigation_path: /lovelace/security
                template: nav_button
      - type: conditional
        conditions:
          - entity: sensor.closest_city
            state: Charlottetown
        card:
          type: weather-forecast
          entity: weather.charlottetown_forecast
          show_forecast: false
      - type: conditional
        conditions:
          - entity: sensor.closest_city
            state: Fredericton
        card:
          type: weather-forecast
          entity: weather.fredericton
          show_forecast: false
      - type: conditional
        conditions:
          - entity: sensor.closest_city
            state: Saint John
        card:
          type: weather-forecast
          entity: weather.saint_john_forecast
          show_forecast: false
      - type: conditional
        conditions:
          - entity: sensor.closest_city
            state: Montreal
        card:
          type: weather-forecast
          entity: weather.montreal_forecast
          show_forecast: false
  - badges: []
    cards:
      - entities:
          - entity: light.outdoor_lights
          - entity: light.main_floor_lights
          - entity: light.second_floor_lights
          - entity: light.basement_lights
          - entity: light.bathroom_lights
          - entity: light.bedroom_lights
          - entity: light.dining_room_lights
          - entity: light.garage_lights
          - entity: light.hallway_lights
          - entity: light.kitchen_lights
          - entity: light.laundry_room_lights
          - entity: light.livingroom_lights
          - entity: light.office_lights
          - entity: light.spare_room_lights
        card:
          show_header_toggle: true
          title: All Lights
          state_color: true
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - type: entity-filter
        entities:
          - light.basement_bathroom
          - light.basement_shower
          - light.basement_storage
        conditions:
          - condition: state
            state:
              - 'off'
              - 'on'
        card:
          type: entities
          show_header_toggle: false
          title: Basement
          state_color: true
      - card:
          show_header_toggle: false
          title: Bathroom
        entities:
          - entity: light.bathroom_lights
          - entity: light.bathroom_shower
          - entity: light.bathroom_sink
          - entity: light.bathroom_tub
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Bedroom
        entities:
          - entity: light.bedroom_lights
          - entity: light.bedroom_ceiling
          - entity: light.bedroom_lamps
          - switch.switch4
        state_color: true
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Dining Room
          state_color: true
        entities:
          - light.dining_room_lights
          - light.dining_room_lamps
          - light.dining_room_table
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Dressing Room
          state_color: true
        entities:
          - light.dressing_room_lights
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - type: entities
        entities:
          - entity: light.garage_lights
        title: Garage
        show_header_toggle: false
      - card:
          show_header_toggle: false
          title: Hallways
          state_color: true
        entities:
          - light.hallway_lights
          - light.basement_stairs
          - light.entryway_lights
          - light.foyer_lights
          - light.hallway_lamp
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Kitchen
          state_color: true
        entities:
          - light.kitchen_lights
          - light.kitchen_counter
          - light.kitchen_island
          - light.kitchen_pots
          - light.kitchen_sink
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Laundry Room
          state_color: true
        entities:
          - entity: light.laundry_room_lights
        state_color: true
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Livingroom
          state_color: true
        entities:
          - entity: light.livingroom_lights
          - entity: light.livingroom_main
          - entity: light.livingroom_lamp
          - entity: light.livingroom_pots
          - entity: light.saltlick
          - entity: light.tiffany
        state_color: true
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Office - Gail
          state_color: true
        entities:
          - light.gail_office_lights
          - light.gail_office_lamp
          - switch.switch1
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Office - Gervais
          state_color: true
        entities:
          - light.office_lights
          - light.office_ceiling_light
          - light.office_desk_lamp
          - light.office_desk_lights
          - light.office_floor_lamp
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Outdoor
          state_color: true
        entities:
          - entity: light.outdoor_lights
          - entity: light.outdoor_back_door
          - entity: light.outdoor_driveway
          - entity: light.outdoor_pots
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Powder Room
          state_color: true
        entities:
          - light.powder_room_light
          - switch.powder_room_fan
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: Trees
          state_color: true
        entities:
          - light.loft_trees
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
      - card:
          show_header_toggle: false
          title: TV Room
          state_color: true
        entities:
          - entity: light.tv_room_lights
          - entity: light.tv_room_lamps
          - entity: light.tv_backlight_kit
          - entity: light.tv_room_pots
        state_color: true
        state_filter:
          - 'on'
          - 'off'
        type: entity-filter
    icon: mdi:lightbulb
    title: Lights and Switches
  - title: Weather
    path: weather
    icon: mdi:weather-partly-cloudy
    type: custom:masonry-layout
    badges: []
    cards:
      - type: custom:swipe-card
        cards:
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:weather-card
                entity: weather.charlottetown_forecast
                number_of_forecasts: 5
                details: true
                forecast: true
                hourly_forecast: false
                name: Charlottetown
              - type: glance
                columns: 4
                entities:
                  - entity: sensor.charlottetown_humidex
                    name: Humidex
                  - entity: sensor.charlottetown_wind_chill
                    name: Wind Chill
                  - entity: sensor.charlottetown_uv_index
                    name: UV Index
                  - entity: sensor.charlottetown_wind_gust
                    name: Wind Gust
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:weather-card
                entity: weather.fredericton
                number_of_forecasts: 5
                details: true
                forecast: true
                hourly_forecast: false
                name: Fredericton
              - type: glance
                columns: 4
                entities:
                  - entity: sensor.fredericton_humidex
                    name: Humidex
                  - entity: sensor.fredericton_wind_chill
                    name: Wind Chill
                  - entity: sensor.fredericton_uv_index
                    name: UV Index
                  - entity: sensor.fredericton_wind_gust
                    name: Wind Gust
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:weather-card
                entity: weather.saint_john_forecast
                number_of_forecasts: 5
                details: true
                forecast: true
                hourly_forecast: false
                name: Saint John
              - type: glance
                columns: 4
                entities:
                  - entity: sensor.saint_john_humidex
                    name: Humidex
                  - entity: sensor.saint_john_wind_chill
                    name: Wind Chill
                  - entity: sensor.saint_john_uv_index
                    name: UV Index
                  - entity: sensor.saint_john_wind_gust
                    name: Wind Gust
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:weather-card
                entity: weather.montreal_forecast
                number_of_forecasts: 5
                details: true
                forecast: true
                hourly_forecast: false
                name: Montréal
              - type: glance
                columns: 4
                entities:
                  - entity: sensor.montreal_wind_chill
                    name: Wind Chill
                  - entity: sensor.montreal_uv_index
                    name: UV Index
                  - entity: sensor.montreal_wind_gust
                    name: Wind Gust
      - type: conditional
        conditions:
          - condition: or
            conditions:
              - condition: state
                entity: sensor.charlottetown_warnings
                state_not: unknown
              - condition: state
                entity: sensor.charlottetown_watches
                state_not: unknown
              - condition: state
                entity: sensor.charlottetown_advisory
                state_not: unknown
        card:
          type: entities
          title: Weather Alerts
          entities:
            - entity: sensor.charlottetown_warnings
            - entity: sensor.charlottetown_watches
            - entity: sensor.charlottetown_advisory
          state_color: true
  - title: Climate
    path: climate
    icon: mdi:thermometer
    type: masonry
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: glance
            title: Current Temperatures
            columns: 5
            entities:
              - entity: sensor.bedroom_sensor_temperature
                name: Bed
              - entity: sensor.dining_room_sensor_temperature
                name: Dining
              - entity: sensor.kitchen_sensor_temperature
                name: Kitchen
              - entity: sensor.living_room_sensor_temperature
                name: Living
              - entity: sensor.gail_office_sensor_temperature
                name: Gail
              - entity: sensor.temperature_humidity_sensor_dca4_temperature
                name: Desk
              - entity: sensor.lywsd03mmc_310b_temperature
                name: Spare
              - entity: sensor.temperature_humidity_sensor_727f_temperature
                name: Laundry
              - entity: sensor.temperature_humidity_sensor_2120_temperature
                name: Garage
          - type: glance
            title: Humidity Levels
            columns: 5
            entities:
              - entity: sensor.bedroom_sensor_humidity
                name: Bed
              - entity: sensor.dining_room_sensor_humidity
                name: Dining
              - entity: sensor.gail_office_sensor_humidity
                name: Gail
              - entity: sensor.temperature_humidity_sensor_dca4_humidity
                name: Desk
              - entity: sensor.lywsd03mmc_310b_humidity
                name: Spare
              - entity: sensor.temperature_humidity_sensor_727f_humidity
                name: Laundry
              - entity: sensor.temperature_humidity_sensor_2120_humidity
                name: Garage
      - type: history-graph
        title: Temperature Trends (24h)
        entities:
          - entity: sensor.bedroom_sensor_temperature
            name: Bedroom
          - entity: sensor.dining_room_sensor_temperature
            name: Dining Room
          - entity: sensor.kitchen_sensor_temperature
            name: Kitchen
          - entity: sensor.living_room_sensor_temperature
            name: Living Room
          - entity: sensor.gail_office_sensor_temperature
            name: Gail Office
          - entity: sensor.temperature_humidity_sensor_dca4_temperature
            name: G-Desk
          - entity: sensor.lywsd03mmc_310b_temperature
            name: Spare Room
          - entity: sensor.temperature_humidity_sensor_727f_temperature
            name: Laundry
          - entity: sensor.temperature_humidity_sensor_2120_temperature
            name: Garage
        hours_to_show: 24
        refresh_interval: 0
      - type: history-graph
        title: Humidity Trends (24h)
        entities:
          - entity: sensor.bedroom_sensor_humidity
            name: Bedroom
          - entity: sensor.dining_room_sensor_humidity
            name: Dining Room
          - entity: sensor.gail_office_sensor_humidity
            name: Gail Office
          - entity: sensor.temperature_humidity_sensor_dca4_humidity
            name: G-Desk
          - entity: sensor.lywsd03mmc_310b_humidity
            name: Spare Room
          - entity: sensor.temperature_humidity_sensor_727f_humidity
            name: Laundry
          - entity: sensor.temperature_humidity_sensor_2120_humidity
            name: Garage
        hours_to_show: 24
        refresh_interval: 0
  - type: sections
    max_columns: 4
    title: Levels
    path: levels
    icon: mdi:gauge
    sections:
      - type: grid
        cards:
          - type: heading
            heading_style: title
          - type: entities
            title: All Battery Levels
            entities:
              - entity: sensor.bedroom_sensor_battery
                name: Bedroom Sensor
              - entity: sensor.dining_room_sensor_battery
                name: Dining Room Sensor
              - entity: sensor.temperature_humidity_sensor_dca4_battery
                name: G-Desk Sensor
              - entity: sensor.gail_office_sensor_battery
                name: Gail Office Sensor
              - entity: sensor.temperature_humidity_sensor_2120_battery
                name: Garage Sensor
              - entity: sensor.hue_outdoor_motion_sensor_1_battery
                name: Outdoor Motion Sensor
              - entity: sensor.lywsd03mmc_310b_battery
                name: Spare Room Sensor
              - entity: sensor.temperature_humidity_sensor_727f_battery
                name: Laundry Sensor
              - entity: sensor.kitchen_sensor_battery
                name: Kitchen Sensor
              - entity: sensor.living_room_sensor_battery
                name: Living Room Sensor
              - entity: sensor.basement_sensor_battery
                name: Basement Sensor
              - entity: sensor.tv_room_occupancy_battery
                name: TV Room Sensor
              - entity: sensor.alice_battery
                name: Alice (Vacuum)
              - entity: sensor.consuela_battery
                name: Consuela (Vacuum)
              - entity: sensor.robot_battery
                name: Robot (Vacuum)
            show_header_toggle: false
            state_color: true
    cards: []
  - title: Robots
    path: robots
    icon: mdi:robot-vacuum
    badges: []
    cards:
      - type: grid
        columns: 2
        cards:
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Alice
                entity: vacuum.alice
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                icon: mdi:robot-vacuum
                size: 40%
                label: |
                  [[[
                    return entity.attributes.status || entity.state;
                  ]]]
                state:
                  - value: cleaning
                    icon: mdi:robot-vacuum
                    styles:
                      card:
                        - background-color: var(--primary-background-color)
                      icon:
                        - color: var(--primary-color)
                        - animation: rotating 2s linear infinite
                  - value: docked
                    icon: mdi:robot-vacuum
                tap_action:
                  action: more-info
                hold_action:
                  action: more-info
                styles:
                  card:
                    - height: 180px
                    - padding: 16px
                    - background-color: var(--card-background-color)
                  icon:
                    - width: 80px
                    - height: 80px
                    - margin-bottom: 10px
                  name:
                    - font-size: 18px
                    - font-weight: bold
                    - margin-bottom: 5px
                  label:
                    - font-size: 14px
                    - color: var(--secondary-text-color)
                  custom_fields:
                    battery:
                      - position: absolute
                      - top: 10px
                      - left: 10px
                      - font-size: 14px
                      - color: var(--secondary-text-color)
                custom_fields:
                  battery: |
                    [[[
                      let battery = entity.attributes.battery_level;
                      if (battery) {
                        return `<ha-icon icon="mdi:battery" style="width: 18px; height: 18px; margin-right: 5px;"></ha-icon>${battery}%`;
                      }
                      return '';
                    ]]]
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    icon: mdi:play
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.start
                      service_data:
                        entity_id: vacuum.alice
                    state:
                      - entity: vacuum.alice
                        value: cleaning
                        styles:
                          card:
                            - opacity: 0.5
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
                  - type: custom:button-card
                    icon: mdi:pause
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.pause
                      service_data:
                        entity_id: vacuum.alice
                    state:
                      - entity: vacuum.alice
                        value: docked
                        styles:
                          card:
                            - opacity: 0.5
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
                  - type: custom:button-card
                    icon: mdi:home
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.return_to_base
                      service_data:
                        entity_id: vacuum.alice
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Consuela
                entity: vacuum.consuela
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                icon: mdi:robot-vacuum
                size: 40%
                label: |
                  [[[
                    return entity.attributes.status || entity.state;
                  ]]]
                state:
                  - value: cleaning
                    icon: mdi:robot-vacuum
                    styles:
                      card:
                        - background-color: var(--primary-background-color)
                      icon:
                        - color: var(--primary-color)
                        - animation: rotating 2s linear infinite
                  - value: docked
                    icon: mdi:robot-vacuum
                tap_action:
                  action: more-info
                hold_action:
                  action: more-info
                styles:
                  card:
                    - height: 180px
                    - padding: 16px
                    - background-color: var(--card-background-color)
                  icon:
                    - width: 80px
                    - height: 80px
                    - margin-bottom: 10px
                  name:
                    - font-size: 18px
                    - font-weight: bold
                    - margin-bottom: 5px
                  label:
                    - font-size: 14px
                    - color: var(--secondary-text-color)
                  custom_fields:
                    battery:
                      - position: absolute
                      - top: 10px
                      - left: 10px
                      - font-size: 14px
                      - color: var(--secondary-text-color)
                custom_fields:
                  battery: |
                    [[[
                      let battery = entity.attributes.battery_level;
                      if (battery) {
                        return `<ha-icon icon="mdi:battery" style="width: 18px; height: 18px; margin-right: 5px;"></ha-icon>${battery}%`;
                      }
                      return '';
                    ]]]
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    icon: mdi:play
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.start
                      service_data:
                        entity_id: vacuum.consuela
                    state:
                      - entity: vacuum.consuela
                        value: cleaning
                        styles:
                          card:
                            - opacity: 0.5
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
                  - type: custom:button-card
                    icon: mdi:pause
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.pause
                      service_data:
                        entity_id: vacuum.consuela
                    state:
                      - entity: vacuum.consuela
                        value: docked
                        styles:
                          card:
                            - opacity: 0.5
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
                  - type: custom:button-card
                    icon: mdi:home
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.return_to_base
                      service_data:
                        entity_id: vacuum.consuela
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Robot
                entity: vacuum.robot
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                icon: mdi:robot-vacuum
                size: 40%
                label: |
                  [[[
                    return entity.attributes.status || entity.state;
                  ]]]
                state:
                  - value: cleaning
                    icon: mdi:robot-vacuum
                    styles:
                      card:
                        - background-color: var(--primary-background-color)
                      icon:
                        - color: var(--primary-color)
                        - animation: rotating 2s linear infinite
                  - value: docked
                    icon: mdi:robot-vacuum
                tap_action:
                  action: more-info
                hold_action:
                  action: more-info
                styles:
                  card:
                    - height: 180px
                    - padding: 16px
                    - background-color: var(--card-background-color)
                  icon:
                    - width: 80px
                    - height: 80px
                    - margin-bottom: 10px
                  name:
                    - font-size: 18px
                    - font-weight: bold
                    - margin-bottom: 5px
                  label:
                    - font-size: 14px
                    - color: var(--secondary-text-color)
                  custom_fields:
                    battery:
                      - position: absolute
                      - top: 10px
                      - left: 10px
                      - font-size: 14px
                      - color: var(--secondary-text-color)
                custom_fields:
                  battery: |
                    [[[
                      let battery = entity.attributes.battery_level;
                      if (battery) {
                        return `<ha-icon icon="mdi:battery" style="width: 18px; height: 18px; margin-right: 5px;"></ha-icon>${battery}%`;
                      }
                      return '';
                    ]]]
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    icon: mdi:play
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.start
                      service_data:
                        entity_id: vacuum.robot
                    state:
                      - entity: vacuum.robot
                        value: cleaning
                        styles:
                          card:
                            - opacity: 0.5
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
                  - type: custom:button-card
                    icon: mdi:pause
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.pause
                      service_data:
                        entity_id: vacuum.robot
                    state:
                      - entity: vacuum.robot
                        value: docked
                        styles:
                          card:
                            - opacity: 0.5
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
                  - type: custom:button-card
                    icon: mdi:home
                    size: 30px
                    tap_action:
                      action: call-service
                      service: vacuum.return_to_base
                      service_data:
                        entity_id: vacuum.robot
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
          - type: vertical-stack
            cards:
              - type: custom:button-card
                name: Delicious
                entity: fan.delicious
                show_icon: true
                show_name: true
                show_state: false
                show_label: true
                icon: mdi:robot-vacuum
                size: 40%
                label: |
                  [[[
                    let docked = states['sensor.delicious_docked'].state;
                    return docked;
                  ]]]
                state:
                  - value: 'on'
                    icon: mdi:robot-vacuum
                    styles:
                      card:
                        - background-color: var(--primary-background-color)
                      icon:
                        - color: var(--primary-color)
                        - animation: rotating 2s linear infinite
                  - value: 'off'
                    icon: mdi:robot-vacuum
                tap_action:
                  action: more-info
                hold_action:
                  action: more-info
                styles:
                  card:
                    - height: 180px
                    - padding: 16px
                    - background-color: var(--card-background-color)
                  icon:
                    - width: 80px
                    - height: 80px
                    - margin-bottom: 10px
                  name:
                    - font-size: 18px
                    - font-weight: bold
                    - margin-bottom: 5px
                  label:
                    - font-size: 14px
                    - color: var(--secondary-text-color)
                  custom_fields:
                    speed:
                      - position: absolute
                      - top: 10px
                      - left: 10px
                      - font-size: 14px
                      - color: var(--secondary-text-color)
                custom_fields:
                  speed: |
                    [[[
                      let fanState = entity.state;
                      let percentage = entity.attributes.percentage || 0;

                      if (fanState === 'off' || percentage === 0) {
                        return '';
                      }

                      let speedText = 'Low';
                      if (percentage > 80) {
                        speedText = 'High';
                      } else if (percentage > 40) {
                        speedText = 'Normal';
                      }

                      return `<ha-icon icon="mdi:fan" style="width: 18px; height: 18px; margin-right: 5px;"></ha-icon>${speedText}`;
                    ]]]
              - type: horizontal-stack
                cards:
                  - type: custom:button-card
                    icon: mdi:play
                    size: 30px
                    tap_action:
                      action: call-service
                      service: fan.set_percentage
                      service_data:
                        entity_id: fan.delicious
                        percentage: 66
                    state:
                      - entity: fan.delicious
                        value: 'on'
                        styles:
                          card:
                            - opacity: 0.5
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
                  - type: custom:button-card
                    icon: mdi:pause
                    size: 30px
                    tap_action:
                      action: call-service
                      service: switch.toggle
                      service_data:
                        entity_id: switch.delicious_paused
                    state:
                      - entity: fan.delicious
                        value: 'off'
                        styles:
                          card:
                            - opacity: 0.5
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
                  - type: custom:button-card
                    icon: mdi:home
                    size: 30px
                    tap_action:
                      action: call-service
                      service: fan.turn_off
                      service_data:
                        entity_id: fan.delicious
                    styles:
                      card:
                        - height: 60px
                        - background-color: transparent
  - badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              - entity: sensor.total_active_clients
                name: Active Clients
              - entity: sensor.arrow_active_clients
                name: Arrow
              - entity: sensor.spitfire
                name: Spitfire
            hours_to_show: 24
            points_per_hour: 4
            line_width: 2
            animate: true
      - type: vertical-stack
        cards:
          - type: media-control
            entity: media_player.tv_roomtv
          - type: conditional
            conditions:
              - entity: media_player.plex_plex_for_roku_tv_roomtv
                state_not: 'off'
              - entity: media_player.plex_plex_for_roku_tv_roomtv
                state: playing
            card:
              type: media-control
              entity: media_player.plex_plex_for_roku_tv_roomtv
          - type: conditional
            conditions:
              - condition: state
                entity: media_player.tv_room_tv
                state: playing
            card:
              type: media-control
              entity: media_player.tv_room_tv
          - type: media-control
            entity: media_player.bedroomtv
          - type: conditional
            conditions:
              - entity: media_player.plex_plex_for_roku_bedroomtv
                state_not: 'off'
              - entity: media_player.plex_plex_for_roku_bedroomtv
                state: playing
            card:
              type: media-control
              entity: media_player.plex_plex_for_roku_bedroomtv
    icon: mdi:play-circle-outline
    title: Media Players
  - title: Vehicle
    path: vehicle
    icon: mdi:car-electric
    badges: []
    cards:
      - type: picture-elements
        image: /api/image/serve/fa1f684e204244d0ea0a48d848988972/512x512
        elements:
          - type: state-label
            entity: sensor.volvo_volvo_fuel_amount
            style:
              top: 85%
              left: 20%
              font-size: 20px
              font-weight: bold
              color: white
              background-color: rgba(0, 0, 0, 0.7)
              padding: 5px 10px
              border-radius: 5px
              text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8)
          - type: state-label
            entity: sensor.volvo_volvo_odometer
            style:
              top: 85%
              left: 80%
              font-size: 20px
              font-weight: bold
              color: white
              background-color: rgba(0, 0, 0, 0.7)
              padding: 5px 10px
              border-radius: 5px
              text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8)
      - type: horizontal-stack
        cards:
          - type: button
            entity: lock.volvo_volvo_lock
            name: Lock/Unlock
            icon: mdi:car-key
            tap_action:
              action: toggle
            hold_action:
              action: more-info
          - type: button
            entity: button.volvo_volvo_flash
            name: Flash
            icon: mdi:car-light-high
            tap_action:
              action: press
          - type: button
            entity: button.volvo_volvo_honk
            name: Honk
            icon: mdi:bullhorn
            tap_action:
              action: press
          - type: button
            entity: button.volvo_volvo_honk_flash
            name: Both
            icon: mdi:car-emergency
            tap_action:
              action: press
      - type: entities
        title: Vehicle Status
        entities:
          - type: custom:multiple-entity-row
            entity: sensor.volvo_volvo_fuel_amount
            name: Fuel
            icon: mdi:gas-station
            entities:
              - entity: sensor.volvo_volvo_distance_to_empty_tank
                name: Range
          - type: custom:multiple-entity-row
            entity: sensor.volvo_volvo_odometer
            name: Odometer
            icon: mdi:counter
            entities:
              - entity: sensor.volvo_volvo_average_fuel_consumption
                name: Avg L/100km
          - type: custom:multiple-entity-row
            entity: binary_sensor.volvo_volvo_engine_status
            name: Engine
            icon: mdi:engine
            entities:
              - entity: sensor.volvo_volvo_time_to_service
                name: Service Due
      - type: glance
        title: Security Status
        columns: 4
        entities:
          - entity: binary_sensor.volvo_volvo_door_front_left
            name: FL Door
          - entity: binary_sensor.volvo_volvo_door_front_right
            name: FR Door
          - entity: binary_sensor.volvo_volvo_door_rear_left
            name: RL Door
          - entity: binary_sensor.volvo_volvo_door_rear_right
            name: RR Door
          - entity: binary_sensor.volvo_volvo_window_front_left
            name: FL Window
          - entity: binary_sensor.volvo_volvo_window_front_right
            name: FR Window
          - entity: binary_sensor.volvo_volvo_window_rear_left
            name: RL Window
          - entity: binary_sensor.volvo_volvo_window_rear_right
            name: RR Window
          - entity: binary_sensor.volvo_volvo_hood
            name: Hood
          - entity: binary_sensor.volvo_volvo_tailgate
            name: Tailgate
          - entity: binary_sensor.volvo_volvo_sunroof
            name: Sunroof
      - type: conditional
        conditions:
          - condition: or
            conditions:
              - condition: state
                entity: binary_sensor.volvo_volvo_service_warning
                state: 'on'
              - condition: state
                entity: binary_sensor.volvo_volvo_oil_level_warning
                state: 'on'
              - condition: state
                entity: binary_sensor.volvo_volvo_brake_fluid_level_warning
                state: 'on'
              - condition: state
                entity: binary_sensor.volvo_volvo_coolant_level_warning
                state: 'on'
              - condition: state
                entity: binary_sensor.volvo_volvo_washer_fluid_level_warning
                state: 'on'
        card:
          type: entities
          title: Maintenance Alerts
          entities:
            - binary_sensor.volvo_volvo_service_warning
            - binary_sensor.volvo_volvo_oil_level_warning
            - binary_sensor.volvo_volvo_brake_fluid_level_warning
            - binary_sensor.volvo_volvo_coolant_level_warning
            - binary_sensor.volvo_volvo_washer_fluid_level_warning
          state_color: true
  - icon: mdi:cctv
    title: Security
    badges: []
    cards:
      - show_state: false
        show_name: true
        camera_view: auto
        type: picture-entity
        entity: camera.driveway_medium_resolution_channel
      - show_state: false
        show_name: true
        camera_view: auto
        type: picture-entity
        entity: camera.mecklenburg_west_medium_resolution_channel
      - show_state: false
        show_name: true
        camera_view: auto
        type: picture-entity
        entity: camera.garage_medium_resolution_channel
      - show_state: true
        show_name: true
        camera_view: auto
        type: picture-entity
        entity: camera.g3_flex_medium_resolution_channel
        camera_image: camera.g3_flex_medium_resolution_channel
      - camera_view: auto
        type: picture-glance
        entities:
          - entity: binary_sensor.rack_motion
          - entity: light.garage_lights
        camera_image: camera.rack_medium_resolution_channel
        title: Garage
  - icon: mdi:shield-home-outline
    type: panel
    badges: []
    cards:
      - type: alarm-panel
        states:
          - arm_home
          - arm_away
        entity: alarm_control_panel.alarmo
button_card_templates:
  light_button:
    color_type: card
    size: 50px
    show_state: true
    styles:
      card:
        - padding: 10px
        - border-radius: 10px
      name:
        - font-size: 14px
      state:
        - font-size: 12px
    state:
      - value: 'on'
        styles:
          card:
            - background-color: var(--paper-item-icon-active-color)
          icon:
            - color: white
      - value: 'off'
        styles:
          card:
            - background-color: var(--paper-card-background-color)
  lock_button:
    template: light_button
    state:
      - value: locked
        icon: mdi:lock
        styles:
          card:
            - background-color: var(--paper-item-icon-active-color)
          icon:
            - color: white
      - value: unlocked
        icon: mdi:lock-open
        styles:
          card:
            - background-color: var(--error-color)
          icon:
            - color: white
  nav_button:
    color_type: card
    size: 50px
    styles:
      card:
        - padding: 10px
        - border-radius: 10px
        - background-color: var(--paper-card-background-color)
      name:
        - font-size: 14px
  section_header:
    color_type: label-card
    styles:
      card:
        - padding: 0
        - background-color: transparent
        - box-shadow: none
        - border: none
      name:
        - font-size: 18px
        - font-weight: bold
        - padding-left: 10px

